pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
--main
--[[ functions:
_init
_draw
_update
--]]

function _init()
	t=0
	grav=0
	bodies={}
	dirt={}
	add_body("player",64,20,90)
	add_body("enemy",65,10,30)
	
--block of dirt
	for i=0,128,8 do
		for j=0,1 do
			add_dirt(i,120-j*8)
		end
	end
end

--------------------------------

function _draw()
	cls()
	
--print coordinates
	coo()

--body things
	for a,b in pairs(bodies)do
		phys(b)
	end

--draw dirt
	for d in all(dirt)do
		spr(d.s,d.x,d.y)
	end
end

--------------------------------

function _update()

end
-->8
--adding stuff
--[[ functions:
add_body
add_dirt
--]]

function add_body(typ,s,x,y)
	local a={}
	a.x=x	a.y=y	a.dx=0 a.dy=0
	a.ddy=grav
	a.s=s
	bodies[typ]=a
	return a
end

--------------------------------

function add_dirt(x,y)
	local a={}
	a.x=x
	a.y=y
	a.s=66
	add(dirt,a)
end
-->8
--physics stuff
--[

--]

function phys(a)
	a.x+=a.dx
	a.y+=a.dy
	a.dy+=a.ddy
	spr(a.s,a.x,a.y)
end

-->8
--draw stuff

function coo()
	for k,v in pairs(bodies)do
		print(k,v.x,v.y-6)
		
		if(btn(4))then
			print("x: "..v.x,v.x+9,v.y)
			print("y: "..v.y,v.x+9,v.y+6)
		end
	end
end
-->8
--dear erica

--[[
i'm so sorry it took so long.
the best way i thought i could
propose to you was through a
game i wrote myself. i wanted 
this experience to be as unique
as our wonderful relationship, 
i hope you cherrish this game 
as a memory of our history 
together. 
--]]
__gfx__
00000000bbbbbbbb000bbbbbbbbbb000bbbbbbbbbbbbbbbb00bbbbbbbbbbbb00bbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbb06650bbbbbbbb05660bbbbbbbbbbbbbbb020bbbbbbbbbb020bbbbbbbb00000000000000000000000000000000000000000000000000000000
00700700bbbbbb067760bbbbbbbb067760bbbbbbbbbbbbbb04200bbbbbb00240bbbbbbbb00000000000000000000000000000000000000000000000000000000
00077000bbbbbb0722750bbbbbb0572270bbbbbbbbbbbbbb0e4220bbbb0224e0bbbbbbbb00000000000000000000000000000000000000000000000000000000
00077000bbbbbb0622260bbbbbb0622260bbbbbbbbbbbbbb0e44220bb02244e0bbbbbbbb00000000000000000000000000000000000000000000000000000000
00700700bbbbbb05ee270bbbbbb072ee50bbbbbbbbbbbbbb04e4266006624e40bbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbb06ee250bbbb052ee60bbbbbbbbbbbbbbb024dd776677dd420bbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbb056e260bbbb062e650bbbbbbbbbbbbbbb02d6777777776d20bbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbb05ee25000052ee50bbbbbbbbbbbbbbbbb0d6777777776d0bbbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbb056e26777762e650bbbbbbbbbbbbbbbbb0d6677777766d0bbbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbb05567777776550bbbbbbbbbbbbbbbbb05d6007777006d50bbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbb05667777776650bbbbbbbbbbbbbbbbb05d6036666306d50bbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbb05006777760050bbbbbbbbbbbbbbb0055dd00666600dd5500bbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbb000c077770c000bbbbbbbbbbbbbbbb0055d00dddd00d5500bbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbb0500007777000050bbbbbbbbbbbbbbbbb00d76677667d00bbbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbb0500007777000050bbbbbbbbbbbbbbbbb0d0776666770d0bbbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbb0550077777700550bbbbbbbbbbbbbbbb0dd7077557707dd0bbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbb0566777557776650bbbbbbbbbbbbbbbb0dd7707007077dd0bbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbb05667700776650bbbbbbbbbbbbbbbbb0d667706607766d0bbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbb015677776510bbbbbbbbbbbbbbbbbb0d766770077667d0bbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbb051122221150bbbbbbbbbbbbbbbbbb0577667777667750bbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbb066555555660bbbbbbbbbbbbbbbbbbb0d6606666066d0bbbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbb056155551650bbbbbbbbbbbbbbbbbbb0dd01000010dd0bbbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbb0651551560bbbbbbbbbbbbbbbbbbbb05d01100110d50bbbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbb1110661111660111bbbbbbbbbbbbbbbbb055010bb010550bbbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbb11110777511577701111bbbbbbbbbbbbbbb05501011010550bbbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbb1111106765005676011111bbbbbbbbbbbbb0dddd011110dddd0bbbbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbb1111110000110000111111bbbbbbbbbbb110767d011110d767011bbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbb11111111111111111111bbbbbbbbbbb11106d6d011110d6d60111bbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbb1111111111111111bbbbbbbbbbbbb1111000011111100001111bbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbb1111111111bbbbbbbbbbbbbbbbb11111111111111111111bbbbbb00000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb1111111111111111bbbbbbbb00000000000000000000000000000000000000000000000000000000
3333333322222222555555556666666611111111ffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000
3bbbbbb32888888254444445677777761cccccc1feeeeeef00000000000000000000000000000000000000000000000000000000000000000000000000000000
3bbbbbb32888888254444445677777761cccccc1feeeeeef00000000000000000000000000000000000000000000000000000000000000000000000000000000
3bbbbbb32888888254444445677777761cccccc1feeeeeef00000000000000000000000000000000000000000000000000000000000000000000000000000000
3bbbbbb32888888254444445677777761cccccc1feeeeeef00000000000000000000000000000000000000000000000000000000000000000000000000000000
3bbbbbb32888888254444445677777761cccccc1feeeeeef00000000000000000000000000000000000000000000000000000000000000000000000000000000
3bbbbbb32888888254444445677777761cccccc1feeeeeef00000000000000000000000000000000000000000000000000000000000000000000000000000000
3333333322222222555555556666666611111111ffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
4646000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4656000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0046000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0041000000000000000000000000004200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000042420000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000400000000000004242420000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4242424242424242424242424242424200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
