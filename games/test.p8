pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
-------------guts--------------

--[[notes:
this is a game made by
wednesday rabbitt
]]

-------------------------------
function _init()
	grav=0.5
	n=8
	entity={} --list of all entities
	pl=make_player(8*n,8*n,0)
	carrot=make_entity(1*n,4*n,2)
--test code
	t={1,2,3,4,5,6,7}
	col=1
end

-------------------------------
function _draw()
--test grid
---[[	
	for i=0,(128/8) do
--horizontal
		line(0,i*n,127,i*n,col)
--vertical
		line(i*n,0,i*n,127,col)
	end

--print grid numbers
	for i=0,(128/n) do
		print(i,i*n+1,2,7)
		print(i,1,i*n+2)
	end
--]]

	for a in all(entity) do
		move_entity(a)
		print("a.y="..a.y,a.x,a.y-3*n)
		print("a.dy="..a.dy,a.x,a.y-2*n)
		print("a.ddy="..a.ddy,a.x,a.y-n)
	end
  
	if (btn(4)) then
		print("x="..pl.x,1*n,1*n,7)
		print("y="..pl.y,1*n,2*n,7)
		print(#entity,n,3*n,7)
	end
end

-------------------------------
function _update()
 cls()
	ctrl_pl()
end
-->8
-----------functions-----------

function make_entity(x,y,n)
	local a={}
	a.t=0
	a.x=x
	a.y=y
	a.dx=0
	a.dy=0
	a.ddy=grav
	a.spr=n
	a.pl=false
	a.d=false
	
	add(entity,a)
	return a
end

-------------------------------
function make_player(x,y,n)
	local pl=make_entity(x,y,n)
	pl.stand=false
	pl.pl=true
	return pl
end

-------------------------------
function ctrl_pl()
	if(pl.y>=11*n)then
		pl.stand=true
	else
		pl.stand=false
	end
	
--left/right
	if(btn(0))then	pl.dx-=1 end
	if(btn(1))then pl.dx+=1 end
	
--jump/friction
	if(pl.stand)then
		if(btn(2))then pl.dy-=5 end
		pl.dx/=1.2
	end
	
--	if (btn(3)) then pl.y+=1 end
end

-------------------------------
function move_entity(a)
	spr(a.spr,a.x,a.y)
	a.x+=a.dx
	a.y+=a.dy
	a.dy+=a.ddy

	if(a.y>=11*n)then
		a.dy=0
		a.y=11*n
	end

--speed limit
	if(abs(a.dx)>=4)then
		a.dx=4*(a.dx/abs(a.dx))
	end

--fall limit
--[[
	if(a.dy>=8)then
		a.dy=8
	end
--]]
end

__gfx__
66666666000bb0000bb0b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6700007600bbbb0000bbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
607007060bbbbbb0000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60077006bbbbbbbb0099900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60077006000bb0000099900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60700706000bb0000099900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
67000076000bb0000009900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666000bb0000009900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000bb000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00bbbb0000bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0bbbbbb00bbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbbbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000bb000bbbbbbbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000bb0000bbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000bb00000bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000bb000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
04440000000000000000000000000000000444000660000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77444f000000000000000000000000000007ee400666000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7744fff00000000000000000000000000007eee40666000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06777fff00000000000000000000000000007eee4666000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0677777f000000000000000000000000000007ee4466000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0067777700000000000000ffffff00000000007e7fff000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00067770000000000004447ffffffff000000007772ff00000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000004444777ffffffff000000077777ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000004447777777ffff77000000044777770000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000004447744447777777000000004477700000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007777444444777777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006677777777777660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000066666777766000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66556655000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55665566000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66556556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
56565565000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55556556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
65566655000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55655665000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
65566666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
81ffff81ffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
81ffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
81ffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
81818181ffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
81818181ffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
81818181ffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
8181818181ffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
8181ffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
8080ffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
8080ffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
8080ffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
